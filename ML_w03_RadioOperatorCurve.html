<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Tiefelsdorf">
<meta name="dcterms.date" content="2026-02-04">

<title>Week03: Evaluating the Performance of Binary Classification Models – 26S Dr.T</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./icon埃拉.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-43081d808c96cc46af55a3a816ae9eed.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">26S Dr.T</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./ML_w01_MLIntroduction.html">(三) EPPS6326 Machine Learning</a></li><li class="breadcrumb-item"><a href="./ML_w03_RadioOperatorCurve.html">Wk03-Radio Operator Curve</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="./index.html" class="sidebar-logo-link">
      </a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">(一) GISC7310 Advanced GIS Data Analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./AG_w00_HamAppTheory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Wk00-Basic Math Review</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./AG_w01_TheoryReverseBoxCox.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Wk01-Switching between Transformed and Untransformed Regression Systems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./AG_w01_HamChap01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Wk01-Hamilton Ch01: Univariate Variable Distributions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./AG_w02_Chap02BivarReg.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Wk02-Hamilton Ch02: Bivariate Regression Analysis</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">(三) EPPS6326 Machine Learning</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ML_w01_MLIntroduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Wk01-Machine Learning Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ML_w02_KeyConceptsofStatisticalLearning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Wk02-Key Concepts of Statistical Learning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ML_w02_PseudoRandomNumbers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Wk02-Pseudo Random Numbers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ML_w03_kNNClassification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Wk03-KNN Classification</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ML_w03_The Naïve Bayesian Classifier.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Wk03-The Naïve Bayesian Classifier</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ML_w03_RadioOperatorCurve.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Wk03-Radio Operator Curve</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ML_w03_ClassificationRegression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Wk03-Classification Regression</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">To be continued...</span></span>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#evaluating-the-predictive-performance-for-two-classes" id="toc-evaluating-the-predictive-performance-for-two-classes" class="nav-link active" data-scroll-target="#evaluating-the-predictive-performance-for-two-classes"><span class="header-section-number">1</span> Evaluating the Predictive Performance for Two Classes</a></li>
  <li><a href="#receiver-operating-characteristics-curve" id="toc-receiver-operating-characteristics-curve" class="nav-link" data-scroll-target="#receiver-operating-characteristics-curve"><span class="header-section-number">2</span> Receiver Operating Characteristics Curve</a></li>
  <li><a href="#example-credit-data" id="toc-example-credit-data" class="nav-link" data-scroll-target="#example-credit-data"><span class="header-section-number">3</span> Example: Credit Data:</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./ML_w01_MLIntroduction.html">(三) EPPS6326 Machine Learning</a></li><li class="breadcrumb-item"><a href="./ML_w03_RadioOperatorCurve.html">Wk03-Radio Operator Curve</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Week03: Evaluating the Performance of Binary Classification Models</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Tiefelsdorf </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 4, 2026</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="evaluating-the-predictive-performance-for-two-classes" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="evaluating-the-predictive-performance-for-two-classes"><span class="header-section-number">1</span> Evaluating the Predictive Performance for Two Classes</h2>
<ul>
<li><p>Start experimenting with the R-script <strong>ROCTutorial.r</strong>.</p></li>
<li><p>Important R functions are:</p>
<ul>
<li><p>Display a cross-tabulation of observed (rows) against predicted (column) class memberships: <strong>gmodels::CrossTable( )</strong></p></li>
<li><p>Provide detailed statistics: <strong>caret::confusionMatrix( )</strong>. See online help <strong>help(confusionMatrix)</strong>.</p></li>
<li><p>Receiver operating characteristic (ROC) curve: <strong>pROC::roc( )</strong> or <strong>library(ROCR)</strong></p></li>
</ul></li>
<li><p>For the sake of terminology let us call one outcome as <em>“positive”</em>, which is usually an outcome of interest leading to action.</p>
<p>Think as a medical doctor for whom <em>“positive”</em>, means a test indicates the presence of a disease.</p>
<p>Usually <em>rare classes</em> (loan default, insurance fraud, disease outcome in a screening test, spam text messages etc.) are labelled “positive”.</p>
<p>Positives are usually coded as factor level 1 whereas the negatives are set to 0.</p></li>
<li><p>This convention makes sense under specific test scenarios but can be arbitrary if both classes are “value-free”.</p></li>
<li><p>For rare positives an intuitive negative prediction will lead to a small error rate equal to the frequency of the rare positives. This provides motivation for <em>conditional error rates</em>.</p></li>
</ul>
<p>For just two classes we get <em>“confusion matrix”</em>, which has the observed true classes in its columns and the predicted class in its rows:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 31%">
<col style="width: 33%">
<col style="width: 35%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>True Negativ</strong></th>
<th><strong>True Positive</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Predicted Negative</strong></td>
<td><em>True Negative (TN)</em></td>
<td><em>False Negative (FN)</em></td>
</tr>
<tr class="even">
<td><strong>Predicted Positive</strong></td>
<td><em>False Positive (FP)</em></td>
<td><em>True Positive (TP)</em></td>
</tr>
</tbody>
</table>
<ul>
<li>This allows us to calculate several <em>key statistics</em>:</li>
</ul>
<table class="caption-top table">
<colgroup>
<col style="width: 13%">
<col style="width: 25%">
<col style="width: 61%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Name</strong></th>
<th><strong>Definition</strong></th>
<th><strong>Synonyms</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>True pos. rate</strong></td>
<td><span class="math inline">\(TP/(FN + TP)\)</span></td>
<td><strong><em>sensitivity</em></strong>, <span class="math inline">\(1 -\)</span> Type <span class="math inline">\(II\)</span> error, power, <em>recall</em> (column perspective) <span class="math inline">\(y\)</span>-axis of ROC</td>
</tr>
<tr class="even">
<td><strong>True neg. rate</strong></td>
<td><span class="math inline">\(TN/(TN + FP)\)</span></td>
<td><em>specificity</em> (column perspective)</td>
</tr>
<tr class="odd">
<td><strong>False pos. rate</strong></td>
<td><span class="math inline">\(FP/(TN + FP)\)</span></td>
<td>Type <span class="math inline">\(I\)</span> error, <strong><span class="math inline">\(1 -\)</span> specificity</strong> (column perspective) <span class="math inline">\(x\)</span>-axis of ROC</td>
</tr>
<tr class="even">
<td><strong>Pos. pred. value</strong></td>
<td><span class="math inline">\(TP/(FP + TP)\)</span></td>
<td><em>Precision</em>, <span class="math inline">\(1 -\)</span> false discovery proportion (row perspective)</td>
</tr>
<tr class="odd">
<td><strong>Total Accuracy</strong></td>
<td><span class="math inline">\(\frac{TP + TN}{TN + FP + FN + TP}\)</span></td>
<td></td>
</tr>
<tr class="even">
<td><strong>Total Error Rate</strong></td>
<td><span class="math inline">\(\frac{FP + FN}{TN + FP + FN + TP}\)</span></td>
<td><span class="math inline">\(1 -\)</span> accuracy</td>
</tr>
</tbody>
</table>
<ul>
<li><p>In the medical sciences</p>
<ul>
<li><p>Sensitivity: probability of predicting disease given that the true state is positive.</p></li>
<li><p>Specificity: probability of predicting non-disease given that the true state is negative.</p></li>
</ul></li>
</ul>
<hr>
</section>
<section id="receiver-operating-characteristics-curve" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="receiver-operating-characteristics-curve"><span class="header-section-number">2</span> Receiver Operating Characteristics Curve</h2>
<ul>
<li><p>ROC curves are used to evaluate the model performance for binary classification scenarios.</p></li>
<li><p>Error rates are affected by a threshold probability <span class="math inline">\(\delta \in [0,1]\)</span> of assigning an object <span class="math inline">\(y_i\)</span> either to the positive <span class="math inline">\(\hat{y}_i = 1\)</span> of negative <span class="math inline">\(\hat{y}_i = 0\)</span> class in relation to the observed features <span class="math inline">\(\mathbf{x}_i\)</span>:</p></li>
</ul>
<p><span class="math display">\[\hat{y}_i^{\delta} = 0 \text{ if } \widehat{\Pr(y_i = 1|\mathbf{x}_i)} \leq \delta\]</span></p>
<p><span class="math display">\[\hat{y}_i^{\delta} = 1 \text{ if } \widehat{\Pr(y_i = 1|\mathbf{x}_i)} &gt; \delta\]</span></p>
<ul>
<li>Therefore, the <em>true positive rate</em> TPR and <em>false positive rate</em> FPS respectively become</li>
</ul>
<p><span class="math display">\[\text{TPR}(\mathbf{y}, \hat{\mathbf{y}}^{\delta}) = \Pr(\hat{y}_i^{\delta} = 1|y_{obs} = 1) \text{ and}\]</span></p>
<p><span class="math display">\[\text{FPR}(\mathbf{y}, \hat{\mathbf{y}}^{\delta}) = \Pr(\hat{y}_i^{\delta} = 1|y_{obs} = 0)\]</span></p>
<ul>
<li><p>Depending on the threshold <span class="math inline">\(\delta\)</span> the total error rate, <em>false positive rate</em> (a.k.a. <strong><span class="math inline">\(1 -\)</span> specificity</strong>) and <em>the true positive rate</em> (a.k.a. <strong>sensitivity</strong>) change:</p>
<ul>
<li>For <span class="math inline">\(\delta = 0\)</span> the table of predicted against observed cases becomes</li>
</ul>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">\(y_{obs} = 0\)</span></th>
<th><span class="math inline">\(y_{obs} = 1\)</span></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(\hat{y}^{\delta=0} = 0\)</span></td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td><span class="math inline">\(\hat{y}^{\delta=0} = 1\)</span></td>
<td><span class="math inline">\(n_1\)</span></td>
<td><span class="math inline">\(n_2\)</span></td>
<td><span class="math inline">\(n\)</span></td>
</tr>
<tr class="odd">
<td></td>
<td><span class="math inline">\(n_1\)</span></td>
<td><span class="math inline">\(n_2\)</span></td>
<td><span class="math inline">\(n\)</span></td>
</tr>
</tbody>
</table>
<p>Thus <span class="math inline">\(sensitivity\ (TPR) = n_2/n_2 = 1\)</span> and <span class="math inline">\(specificity\ (TNR) = 0/n_1 = 0\)</span></p>
<ul>
<li>For <span class="math inline">\(\delta = 1\)</span> the table of predicted against observed cases becomes</li>
</ul>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">\(y_{obs} = 0\)</span></th>
<th><span class="math inline">\(y_{obs} = 1\)</span></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(\hat{y}^{\delta=0} = 0\)</span></td>
<td><span class="math inline">\(n_1\)</span></td>
<td><span class="math inline">\(n_2\)</span></td>
<td><span class="math inline">\(n\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(\hat{y}^{\delta=0} = 1\)</span></td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td></td>
<td><span class="math inline">\(n_1\)</span></td>
<td><span class="math inline">\(n_2\)</span></td>
<td><span class="math inline">\(n\)</span></td>
</tr>
</tbody>
</table>
<p>Thus <span class="math inline">\(sensitivity\ (TPR) = 0/n_2 = 0\)</span> and <span class="math inline">\(specificity\ (TNR) = n_1/n_1 = 1\)</span></p></li>
</ul>
<hr>
</section>
<section id="example-credit-data" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="example-credit-data"><span class="header-section-number">3</span> Example: Credit Data:</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/w03_RadioOperatorCurve/page-06-img-1.png" class="img-fluid figure-img"></p>
<figcaption>TABLE 4.4. A confusion matrix compares the LDA predictions to the true default statuses for the 10,000 training observations in the Default data set. Elements on the diagonal of the matrix represent individuals whose default statuses were correctly predicted, while off-diagonal elements represent individuals that were misclassified. LDA made incorrect predictions for 23 individuals who did not default and for 252 individuals who did default.</figcaption>
</figure>
</div>
<ul>
<li><p>The training error rate is low with <span class="math inline">\((252 + 23)/10,000 \times 100 = 2.75\%\)</span>.</p></li>
<li><p>However, using a <em>naïve but useless</em> classifier in which no one defaults would only lead to a just slightly larger error rate of <span class="math inline">\(333/10,000 \times 100 = 3.33\%\)</span>.</p></li>
<li><p>To catch more <em>true positive defaulter</em>, i.e., increase the sensitivity, the cut of value <span class="math inline">\(\delta\)</span> must become smaller than <span class="math inline">\(\delta = 0.5\)</span> at the risk of denying more trustworthy borrowers.</p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/w03_RadioOperatorCurve/page-07-img-1.png" class="img-fluid figure-img"></p>
<figcaption>FIGURE 4.7. For the Default data set, error rates are shown as a function of the threshold value for the posterior probability that is used to perform the assignment. The black solid line displays the overall error rate. The blue dashed line represents the fraction of defaulting customers that are incorrectly classified, and the orange dotted line indicates the fraction of errors among the non-defaulting customers.</figcaption>
</figure>
</div>
<ul>
<li>The ROC (radio operating characteristic) plots the <em>false positive rate</em> (<span class="math inline">\(1 -\)</span> specificity) on the <span class="math inline">\(x\)</span>-axis against the <em>true positive rate</em> (sensitivity) on the <span class="math inline">\(y\)</span>-axis.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/w03_RadioOperatorCurve/page-08-img-1.png" class="img-fluid figure-img"></p>
<figcaption>FIGURE 4.8. A ROC curve for the LDA classifier on the Default data. It traces out two types of error as we vary the threshold value for the posterior probability of default. The actual thresholds are not shown. The true positive rate is the sensitivity: the fraction of defaulters that are correctly identified, using a given threshold value. The false positive rate is 1-specificity: the fraction of non-defaulters that we classify incorrectly as defaulters, using that same threshold value. The ideal ROC curve hugs the top left corner, indicating a high true positive rate and a low false positive rate. The dotted line represents the “no information” classifier; this is what we would expect if student status and credit card balance are not associated with probability of default.</figcaption>
</figure>
</div>
<ul>
<li><p>For an uninformative predictor the equality <span class="math inline">\(sensitivity = 1 - specificity\)</span> holds at any threshold <span class="math inline">\(\delta \in [0,1]\)</span>. Thus the <em>diagonal</em> signifies an uninformative classifier.</p></li>
<li><p>For a well-discriminating classifier, the ROC curve takes a rectangular shape:</p>
<p>The upper left corner denotes that predictor for which all positives are properly classified, and no negative is falsely classified.</p></li>
<li><p>The area underneath the ROC curve (AUC) measures the discriminating power of a classifier:</p>
<ol type="A">
<li><p><em>0.9 to 1.0</em>: <strong>outstanding</strong></p></li>
<li><p><em>0.8 to 0.9</em>: <strong>good</strong></p></li>
<li><p><em>0.7 to 0.8</em>: <strong>fair</strong></p></li>
<li><p><em>0.6 to 0.7</em>: <strong>poor</strong></p></li>
<li><p><em>0.5 to 0.6</em>: <strong>no discrimination</strong></p></li>
</ol></li>
<li><p>Two competing classifiers may have an identical AUC but different shapes of the ROC curve.</p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/w03_RadioOperatorCurve/page-09-img-1.png" class="img-fluid figure-img"></p>
<figcaption>Figure 10.5: ROC curves may have different performance despite having the same AUC</figcaption>
</figure>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>